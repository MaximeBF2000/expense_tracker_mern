(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=(a(39),a(30)),o=a(7),u=a(9),i=a.n(u),m=a(13),p=a(6),d=a(33),E=a(15),f=function(e,t){switch(t.type){case"GET_TRANSACTIONS":return Object(E.a)({},e,{transactions:t.payload});case"ADD_TRANSACTION":return Object(E.a)({},e,{transactions:[t.payload].concat(Object(d.a)(e.transactions))});case"DELETE_TRANSACTION":return Object(E.a)({},e,{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});default:return e}},b=a(14),N=a.n(b),v={transactions:[],loading:!1},g=Object(n.createContext)(v),h=function(e){var t=Object(n.useReducer)(f,v),a=Object(p.a)(t,2),c=a[0],l=a[1],s=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GET TRANSACTIONS !"),c.loading=!0,e.next=4,N.a.get("/transactions");case 4:t=e.sent,c.loading=!1,l({type:"GET_TRANSACTIONS",payload:t.data});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.loading=!0,e.next=3,N.a.post("/transactions",{name:t.name,amount:t.amount});case 3:c.loading=!1,l({type:"ADD_TRANSACTION",payload:t}),s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.loading=!0,e.next=3,N.a.delete("/transactions/delete/".concat(t));case 3:c.loading=!1,l({type:"DELETE_TRANSACTION",payload:t}),s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(g.Provider,{value:{transactions:c.transactions,loading:c.loading,getTransactions:s,addTransaction:o,deleteTransaction:u}},e.children)};function O(e){var t=e.transaction,a=Object(n.useContext)(g).deleteTransaction,c=t.amount>0?"+":"-";return r.a.createElement("div",{className:"transaction"},r.a.createElement("div",{className:t.amount>0?"income":"expense"},r.a.createElement("div",{className:"grid_el delete",onClick:function(){a(t._id)}},"x"),r.a.createElement("div",{className:"grid_el name"},t.name),r.a.createElement("div",{className:"grid_el amount"},c+Math.abs(t.amount),"\u20ac")))}function T(){var e=Object(n.useContext)(g),t=e.transactions,a=e.getTransactions;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"h3_transaction"},"Transactions :"),r.a.createElement("hr",null),r.a.createElement("ul",{className:"transactions"},t.map((function(e){return r.a.createElement(O,{key:e._id,transaction:e})}))))}function j(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),o=s[0],u=s[1],i=Object(n.useContext)(g),m=i.addTransaction,d=i.getTransactions;return r.a.createElement("form",{className:"add_transaction",onSubmit:function(e){e.preventDefault(),""!==a&&0!==+o&&""!==o&&(m({name:a,amount:+o}),d(),c(""),u(""))}},r.a.createElement("div",{className:"row input-group"},r.a.createElement("input",{type:"text",name:"name",value:a,onChange:function(e){return c(e.target.value)},className:"input"}),r.a.createElement("label",{htmlFor:"name",className:"label"},"Name")),r.a.createElement("div",{className:"row input-group"},r.a.createElement("input",{type:"number",name:"amount",value:o,onChange:function(e){return u(e.target.value)},className:"input"}),r.a.createElement("label",{htmlFor:"amount",className:"label"},"0")),r.a.createElement("button",{type:"submit",className:"center"},"Add transaction"))}function x(){var e=Object(n.useContext)(g).transactions.map((function(e){return e.amount})),t=e.length>0?+e.filter((function(e){return e>=0})).reduce((function(e,t){return e+t}),0):0,a=e.length>0?+e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0):0;return r.a.createElement("div",{className:"balance"},r.a.createElement("div",{className:"center income"},r.a.createElement("h3",null," Income "),r.a.createElement("p",null," ",t," \u20ac ")),r.a.createElement("div",{className:"center expense"},r.a.createElement("h3",null," Expense "),r.a.createElement("p",null," ",Math.abs(a)," \u20ac ")))}function y(){var e=Object(n.useContext)(g).transactions.map((function(e){return e.amount})),t=e.length>0?e.reduce((function(e,t){return e+t}),0):0;return r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"Total:"),r.a.createElement("span",null,t," \u20ac"))}var C=function(){return r.a.createElement("div",{className:"ET_container"},r.a.createElement("h1",null,"Expense tracker"),r.a.createElement(y,null),r.a.createElement(x,null),r.a.createElement(j,null),r.a.createElement(T,null))};function A(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),o=s[0],u=s[1];return r.a.createElement("div",{className:"login_container"},r.a.createElement("div",{className:"login_box container"},r.a.createElement("h2",null,"Login"),r.a.createElement("p",{className:"subtitle"},"or enter a new pseudo to create an account"),r.a.createElement("form",null,r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",name:"pseudo",className:"input",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"pseudo",className:"label"},"Username")),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"password",name:"password",className:"input",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("label",{htmlFor:"password",className:"label"},"Password")),r.a.createElement("button",{type:"submit",className:"loginBtn"},"Login"))))}function w(){return r.a.createElement(h,null,r.a.createElement(s.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:C}),r.a.createElement(o.a,{exact:!0,path:"/login",component:A})))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.be2bb84a.chunk.js.map