{"version":3,"sources":["context/Reducer.js","context/State.js","components/Transaction.js","components/Transactions.js","components/AddTransaction.js","components/Balance.js","components/Total.js","App.js","components/Login.js","components/Main.js","index.js"],"names":["state","action","type","transactions","payload","filter","e","id","initialState","loading","GlobalContext","createContext","GlobalProvider","props","useReducer","AppReducer","dispatch","getTransactions","a","console","log","axios","get","response","data","addTransaction","transaction","post","name","amount","deleteTransaction","delete","Provider","value","children","Transaction","useContext","sign","className","onClick","_id","Math","abs","Transactions","useEffect","map","key","AddTransaction","useState","setName","setAmount","onSubmit","preventDefault","onChange","target","htmlFor","Balance","amounts","incomes","length","reduce","c","expenses","Total","el","total","App","Login","username","setUsername","password","setPassword","Main","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be2bb84a.chunk.js","sourcesContent":["export default (state, action) => {\r\n  switch(action.type){\r\n    case \"GET_TRANSACTIONS\":\r\n      return {\r\n        ...state,\r\n        transactions: action.payload\r\n      }\r\n    case \"ADD_TRANSACTION\":\r\n      return{\r\n        ...state,\r\n        transactions: [action.payload, ...state.transactions]\r\n      }\r\n    case \"DELETE_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.filter(e => e.id !== action.payload)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import React, { createContext, useReducer } from \"react\"\r\nimport AppReducer from \"./Reducer\"\r\nimport axios from \"axios\"\r\n\r\nconst initialState = {\r\n  transactions: [],\r\n  loading: false\r\n}\r\n\r\nexport const GlobalContext = createContext(initialState)\r\n\r\nexport const GlobalProvider = props => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState)\r\n\r\n  const getTransactions = async () => {\r\n    console.log(\"GET TRANSACTIONS !\")\r\n    state.loading = true\r\n    const response = await axios.get(\"/transactions\")\r\n    state.loading = false\r\n    dispatch({\r\n      type: \"GET_TRANSACTIONS\",\r\n      payload: response.data\r\n    })\r\n  }\r\n\r\n  const addTransaction = async transaction => {\r\n    state.loading = true\r\n    await axios.post(\"/transactions\", {\r\n      name: transaction.name,\r\n      amount: transaction.amount\r\n    })\r\n    state.loading = false\r\n    dispatch({\r\n      type: \"ADD_TRANSACTION\",\r\n      payload: transaction\r\n    })\r\n    getTransactions()\r\n  }\r\n\r\n  const deleteTransaction = async id => {\r\n    state.loading = true\r\n    await axios.delete(`/transactions/delete/${id}`)\r\n    state.loading = false\r\n    dispatch({\r\n      type: \"DELETE_TRANSACTION\",\r\n      payload: id\r\n    })\r\n    getTransactions()\r\n  }\r\n\r\n  return(\r\n    <GlobalContext.Provider value={{\r\n      transactions: state.transactions,\r\n      loading: state.loading,\r\n      getTransactions,\r\n      addTransaction,\r\n      deleteTransaction\r\n    }}>\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  )\r\n}","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/State\"\r\n\r\nexport default function Transaction({ transaction }) {\r\n  const { deleteTransaction } = useContext(GlobalContext)\r\n  const sign = transaction.amount > 0 ? \"+\" : \"-\"\r\n\r\n  const handleDelete = () => {\r\n    deleteTransaction(transaction._id)\r\n  }\r\n\r\n  return (\r\n    <div className=\"transaction\">\r\n      <div className={transaction.amount > 0 ? \"income\": \"expense\"}>\r\n        <div className=\"grid_el delete\" onClick={handleDelete}>x</div>\r\n        <div className=\"grid_el name\">{transaction.name}</div>\r\n        <div className=\"grid_el amount\">{sign + Math.abs(transaction.amount)}€</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { GlobalContext } from \"../context/State\"\r\nimport Transaction from \"./Transaction\"\r\n\r\nexport default function Transactions() {\r\n  let { transactions, getTransactions } = useContext(GlobalContext)\r\n\r\n  useEffect(() => {\r\n    getTransactions()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"h3_transaction\">Transactions :</h3>\r\n      <hr/>\r\n      <ul className=\"transactions\">\r\n        {transactions.map(transaction => (\r\n          <Transaction key={transaction._id} transaction={transaction} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { GlobalContext } from \"../context/State\"\r\n\r\nexport default function AddTransaction() {\r\n  const [name, setName] = useState(\"\")\r\n  const [amount, setAmount] = useState(\"\")\r\n  const { addTransaction, getTransactions } = useContext(GlobalContext)\r\n\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    const newTransaction = {\r\n      name,\r\n      amount: +amount\r\n    }\r\n    if(name !== \"\" && +amount !== 0 && amount !== \"\"){\r\n      addTransaction(newTransaction)\r\n      getTransactions()\r\n      setName(\"\")\r\n      setAmount(\"\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className=\"add_transaction\" onSubmit={handleSubmit}>\r\n      <div className=\"row input-group\">\r\n        <input type=\"text\" name=\"name\" value={name} onChange={e => setName(e.target.value)} className=\"input\" />\r\n        <label htmlFor=\"name\" className=\"label\">Name</label>\r\n      </div>\r\n      <div className=\"row input-group\">\r\n        <input type=\"number\" name=\"amount\" value={amount} onChange={e => setAmount(e.target.value)} className=\"input\"/>\r\n        <label htmlFor=\"amount\" className=\"label\">0</label>\r\n      </div>\r\n      <button type=\"submit\" className=\"center\">Add transaction</button>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/State\"\r\n\r\nexport default function Balance() {\r\n  const { transactions } = useContext(GlobalContext)\r\n\r\n  const amounts = transactions.map(e => e.amount)\r\n\r\n  const incomes = amounts.length > 0 ? +amounts.filter(e => e >= 0).reduce((a, c) => (a += c), 0) : 0\r\n  const expenses = amounts.length > 0 ? +amounts.filter(e => e < 0).reduce((a, c) => (a += c), 0) : 0\r\n\r\n  return (\r\n    <div className=\"balance\">\r\n      <div className=\"center income\">\r\n        <h3> Income </h3>\r\n        <p> {incomes} € </p>\r\n      </div>\r\n      <div className=\"center expense\">\r\n        <h3> Expense </h3>\r\n        <p> {Math.abs(expenses)} € </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/State\"\r\n\r\nexport default function Total() {\r\n  const { transactions } = useContext(GlobalContext)\r\n\r\n  const amounts = transactions.map(el => el.amount)\r\n  const total = amounts.length > 0 ? amounts.reduce((a, c) => (a + c), 0) : 0\r\n\r\n  return (\r\n    <div className=\"total\">\r\n      <span>Total:</span>\r\n      <span>{total} €</span>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Transactions from \"./components/Transactions\"\r\nimport AddTransaction from \"./components/AddTransaction\"\r\nimport Balance from \"./components/Balance\"\r\nimport Total from \"./components/Total\"\r\n\r\n/**\r\n * HUGE PROBLEM TO FIX WITH UNIQUE KEYS ?\r\n * LAUNCH THE APP AND ADD A NEW TRANSACTION TO SEE THE WARNING\r\n */\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"ET_container\">\r\n      <h1>Expense tracker</h1>\r\n      <Total />\r\n      <Balance />\r\n      <AddTransaction />\r\n      <Transactions />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React, { useState } from 'react'\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n\r\n  return (\r\n    <div className=\"login_container\">\r\n      <div className=\"login_box container\">\r\n        <h2>Login</h2>\r\n        <p className=\"subtitle\">or enter a new pseudo to create an account</p>\r\n        <form>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" name=\"pseudo\" className=\"input\" value={username} onChange={e => setUsername(e.target.value)}/>\r\n            <label htmlFor=\"pseudo\" className=\"label\">Username</label>\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input type=\"password\" name=\"password\" className=\"input\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n            <label htmlFor=\"password\" className=\"label\">Password</label>\r\n          </div>\r\n          <button type=\"submit\" className=\"loginBtn\">Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\"\r\nimport { GlobalProvider } from \"../context/State\"\r\nimport App from \"../App\"\r\nimport Login from \"../components/Login\"\r\n\r\nexport default function Main() {\r\n  return (\r\n    <GlobalProvider>\r\n      <Router>\r\n        <Route exact path=\"/\" component={App}/>\r\n        <Route exact path=\"/login\" component={Login}/>\r\n      </Router>\r\n    </GlobalProvider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport Main from \"./components/Main\"\r\n\r\nReactDOM.render(<React.StrictMode><Main /></React.StrictMode>, document.getElementById('root'))\r\n"],"sourceRoot":""}